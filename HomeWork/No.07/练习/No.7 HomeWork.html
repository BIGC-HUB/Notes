<!DOCTYPE html><html><head>
        <meta charset="utf-8">
        <title>practise one's skill house - 斯是陋室 惟吾德馨</title>
    </head><body><script>
            var log = function() {
            console.log.apply(console, arguments)
            }
            //定义自己的log很重要
            var ensure = function(condition, message) {
            if (!condition) {
                log('异常————————————>', message)
                }
            }
        </script><script>
// 2016/09/30
//
// ============
// 作业 7
//
// 本次作业主要是 string 和 object 相关
// 带有一定的 DOM API 练习
// string 题目用到的知识还是
// 0, 用下标引用字符串
// 2, 循环
// 3, 选择 (也就是 if)
// 1, 字符串切片
//
// 注意, 提示在文件最末尾
// ============
//
// 请以之前上课中 string 相关的内容作为参考
// 请自行编写测试
//

/*
交作业手动传送门
http://vip.cocode.cc/topics/346
*/


// 定义我们的 log 函数
// var log = function() {
//     console.log.apply(console, arguments)
// }


// ======
// 测试
// ======
//
// 定义我们用于测试的函数
// ensure 接受两个参数
// condition 是 bool, 如果为 false, 则输出 message
// 否则, 不做任何处理
// var ensure = function(condition, message) {
//     // 在条件不成立的时候, 输出 message
//     if(!condition) {
//         log('*** 测试失败 {', message)
//     }
// }
log('enSure :')


// 作业 1
// 实现函数 startsWith
// s1 是一个字符串
// s2 是一个字符串
// 检查 s1 是否以 s2 开头, 返回 true 或者 false
// 10分钟做不出来就看提示
var startsWith = function(s1, s2) {
    var s = s1.indexOf(s2) //s 为下标
    if ( s === 0 ) {
        return true
    }else {
        return false
    }
}
// log('starts_with', startsWith('guagua', 'gua'))
// 用法如下, 作为测试参考
// log('starts_with', startsWith('guagua', 'gua'))
// starts_with true
// log('starts_with', startsWith('guagua', 'melon'))
// starts_with false
// log('starts_with', startsWith('melongua', 'gua'))
// starts_with false
var test_startsWith = function() {
    ensure(startsWith('guagua', 'gua') == true, '测试1' )
    ensure(!startsWith('guagua', 'melon') == true, '测试2' )
    ensure(!startsWith('melongua', 'gua') == true, '测试3' )
}
test_startsWith()
// 作业 2
// 实现函数
// 10 分钟做不出就看提示
// s1 是一个字符串
// s2 是一个长度为 1 的字符串
// 返回参数 s2 在 s1 中第一次出现的下标
// 如果 s2 没有在 s1 中出现, 返回 -1
var findIn = function(s1, s2) {
    //我明白了 不能用这个 return s1.indexOf(s2)
    if ( s1.includes(s2) ) {
        for (i in s1) {
            if ( s1[i] === s2 ) {
                return Number(i)
            }
        }
    } else {
        return -1
    }
}
var test_findIn = function() {
    ensure( findIn('12312','2') === 1 ,'测试1')
    ensure( findIn('大校发斯蒂芬','斯')=== 3 ,'测试2')
    ensure( findIn('omg瓜','瓜')=== 3 ,'测试3')
    ensure( findIn('可恶hasaki','i')=== 7 ,'测试4')
}
test_findIn()
// 作业 3
// s1 是一个字符串
// s2 是一个长度为 1 的字符串
// 返回参数 s2 在 s1 中出现的所有下标组成的 array
// 如果 s2 没有在 s1 中出现, 返回空数组 []
// 实现函数findAllIn
// 10 分钟做不出就看提示
var findAllIn = function(s1, s2) {
    var list = []
    for (var i = 0; i < s1.length; i++) {
        if (s1[i] === s2) {
            list.push(i)
        }
    }return list
}
// 用法范例, 作为测试参考
// log('find all', findAllIn('10121320', '1'))
// find all [0, 2, 4]
// log('find all', findAllIn('10121320', '0'))
// find all [1, 7]
// log('find all', findAllIn('10121320', '3'))
// find all [5]
// log('find all', findAllIn('10121320', '9'))
// find all []
//测试
var text_findAllIn = function() {
    ensure( findAllIn('10121320', '1'), '测试1')
    ensure( findAllIn('10121320', '0'), '测试2')
    ensure( findAllIn('10121320', '3'), '测试3')
    ensure( findAllIn('10121320', '9'), '测试4')
}
text_findAllIn()
// 作业 4
// s1 是一个字符串
// s2 是一个字符串, 长度未知, 不一定为 1
// 返回参数 s2 在 s1 中出现的下标组成的 array
// 如果 s2 没有在 s1 中出现, 返回 []
// 实现函数 findAllString
// 10 分钟做不出就看提示
var findAllString = function(s1, s2) {
    var list = []
    for(var i = 0; i < s1.length; i++) {
        var sub = s1.slice(i, i + s2.length)
        if (sub === s2) {
            list.push(i)
        }

    }return list
}

// 用法
// log('find all str', findAllString('1012100120', '10'))
// find all [0, 4]
// log('find all str', findAllString(' 1012100120', '100'))
// find all [4]
// log('find all str', findAllString('1012100120', '3'))
// find all []
var test_findAllString = function() {
    ensure(String(findAllString('1012100120', '10')) === String([0, 4]), '测试1')
    ensure(String(findAllString('1012100120', '100')) === String([4]), '测试2')
    ensure(String(findAllString('1012100120', '3')) === String([]), '测试3')
}
test_findAllString()
// 作业 5
// s1 是一个字符串
// s2 是一个字符串
// 检查 s1 是否以 s2 结尾, 返回 true 或者 false
// 实现函数
// 10分钟做不出来就看提示
var endsWith = function(s1, s2) {
    for (var i = 0; i < s1.length; i++) {
        var len = s2.length //s2 长度
        var sub = s1.slice(i, i + len) //切片
        var end = s1.slice(-len) //负切片
        if (sub === end && sub === s2 ) {
            return true
        }
    } return false
}
//测试
var test_endsWith = function() {
    ensure(endsWith('woshigua','gua')===true , '测试1')
    ensure(endsWith('woshiguagua','gua')===true , '测试2')
    ensure(!endsWith('woshi','gua')===true , '测试3')
    ensure(endsWith('woshi','woshi')===true , '测试4')
}
test_endsWith()

// 作业 6
// students 是 array
// 里面的每个元素都是如下格式的 object
// {
//     'name': 'gua',
//     'sex': '男',
//     'score': 127,
// }
// 返回 score 最高的那个元素(object)
// 实现函数
var topF = function(students) {
    var zuigao = 0 //初始化最高分
    for (var i = 0; i < student_list.length; i++) {
        var chengji = student_list[i]['score'] //遍历成绩
        if (chengji > zuigao) {
            zuigao = chengji
        }
    } return zuigao
}
// 目前只有两个数据, 自行扩充到 5 个
var student_list = [
    {'name' : 'gua1','sex' : '男','score' : 127},
    {'name' : 'gua2','sex' : '女','score' : 99 },
    {'name' : 'gua3','sex' : '男','score' : 89},
    {'name' : 'gua4','sex' : '女','score' : 148 },
    {'name' : 'gua5','sex' : '男','score' : 102},
]
var test_topF = function() {
    ensure(topF(student_list) === 148 , '测试1')
}
test_topF()
// 作业 7
// day 是代表星期的数字, 从周一到周日分别是 1 2 3 4 5 6 7
// 返回 '星期一' '星期二' 这样的描述字符串
// 做不出尽早看提示或者到群里讨论或者发帖
//
var formated_weekday = function(day) {
    var ch = ['零','一','二','三','四','五','六','日']
    if ( day > 0 && day < 8 ) {
        return `星期${ch[day]}`
    }else {
        return null
    }
}


// 作业 8
// price 是一个 int
// grade 合法情况下一共 6 种取值, 还可能没有给出这个参数
//     '小学生'
//     '初中生'
//     '高中生'
//     '大学生'
//     '研究生'
// 对应的折扣分别是 5 6 7 8 9
//
// 注意, 如果调用者没有给出 grade 参数, 没有折扣
//
// 返回折扣后的价格
// 做不出尽早看提示或者到群里讨论或者发帖
//
var discount = function(price, grade) {
    var zhe = {'小学生':5, '初中生':6, '高中生':7, '大学生':8, '研究生':9}
    if (zhe[grade] != undefined) {
        return price * zhe[grade] / 10
    } else {
        return price
    }
}
var test_discount = function() {
    ensure ( discount(1000, '大学生') == 800, '测试1')
    ensure ( discount(1000, '成人') == 1000, '测试2')
    ensure ( discount(1000, '小学生') == 500, '测试2')
}
test_discount()
// 作业 9
// array 是 array 类型, 里面的元素都是字符串
//
// 按如下的格式返回这个 array
// 假设 array 是 ['python', 'js', 'objective-c']
// 那么返回的数据是一个数组, 多了首尾两个元素
// [
//     '+++++++++++++++',
//     '+ python      +',
//     '+ js          +',
//     '+ objective-c +',
//     '+++++++++++++++',
// ]
// 返回包含了 string 的 array
// 做不出尽早看提示或者到群里讨论或者发帖
var prettyLog = function(array) {
    var result = []
    var long = longest(list)
    var updown = zifu( (long + 2), '+' )//'+++++++++++++++'
    result.push(updown)
    for (i of list) {
        var len = long - i.length //需要填充的 空格
        if ( len % 2 === 1 ) {
            var kong = (len - 1) / 2
            var left  = zifu( kong, ' ' )  + ' '
            var right = zifu( ( kong + 1 ), ' ' )  + ' '
            result.push(left + i + right)
        }else {
            var kong = (len) / 2
            var left  = zifu( kong, ' ' ) + ' '
            var right = zifu( kong, ' ' ) + ' '
            result.push(left + i + right)
        }
    } result.push(updown)
    for (var i = 0; i < result.length; i++) {
        result[i] = '+' + result[i] + '+'
    }
    return result
}
var list = ['python', 'js', 'objective-c']
var longest = function( list ) {
    var n = 0
    for (i of list) {
        if (i.length > n) {
            n = i.length
        }
    } return n
}
var zifu = function( n, m ) {
    var kong = ''
    var i = 0
    while (i < n) {
        kong += m
    i++
    } return kong
}
String(ensure (prettyLog(list)) === String(
[
"+++++++++++++++",
"+   python    +",
"+     js      +",
"+ objective-c +",
"+++++++++++++++"
] ), '测试1' ) 

//找出最长字符串

// =======
// 提示
// =======
/*
注意要多 log 数据, 模拟执行流程, 发现问题所在

1, startsWith
简单的办法是 slice s1 后与 s2 比较


2, findIn
初始化下标为 -1
用 while 循环去遍历 s1 来比较
如果找到则设置下标并 break 循环


3, findAllIn
和 findIn 类似
只不过是用一个 array 去保存下标


4, findAllString
循环遍历 s1
每次循环 slice 一个字符串出来用 startsWith 检查


5, endsWith
切片 s1 然后和 s2 比较
切片下标可以用长度算出


6, top
参考前几次作业的 min max 函数


7, formated_weekday
无


8, discount
无


9, prettyLog
先求出最长的那个字符串的长度
这样就可以算出每行的长度
这样就很简单了
*/
</script></body></html>
